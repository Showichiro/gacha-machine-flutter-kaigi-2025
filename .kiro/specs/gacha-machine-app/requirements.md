# Requirements Document

## Introduction

本ドキュメントは、Flutter Kaigi 2025のASSIGNブースで使用するガチャアプリケーションの要件を定義します。このアプリケーションは、イベント来場者がガチャ（くじ引き）を体験できるインタラクティブなデモアプリケーションです。ソーシャルゲームのような派手な演出により、来場者にエンゲージメントの高い体験を提供し、ASSIGNブースへの集客と滞在時間の増加を目指します。

## Project Description (Input)

Flutter Kaigi 2025のASSIGNのブースで利用するためのガチャアプリケーション。

### 画面要件

- くじ画面
  - くじを引く画面。ソーシャルゲームのガチャを想起させる派手なアニメーションとサウンド効果を含む
- 設定画面
  - 景品の種類や各景品の画像、個数を設定できる

### 機能要件

- 設定をブラウザを閉じても保持できるようにする。バックエンドは不要でローカルストレージへの保持などで構わない

## Requirements

### Requirement 1: ガチャ実行機能
**Objective:** イベント来場者として、ガチャを引いて景品を獲得できるようにしたい。これにより、ブースでのインタラクティブな体験を提供する。

#### Acceptance Criteria

1. WHEN 来場者がガチャ画面を表示する THEN ガチャアプリケーション SHALL ガチャ実行ボタンを表示する
2. WHEN 来場者がガチャ実行ボタンをタップする THEN ガチャアプリケーション SHALL ガチャ演出アニメーションを開始する
3. WHEN ガチャ演出アニメーションが開始される THEN ガチャアプリケーション SHALL サウンド効果を再生する
4. WHEN ガチャ演出アニメーションが完了する THEN ガチャアプリケーション SHALL 獲得した景品を表示する
5. WHEN 景品が表示される THEN ガチャアプリケーション SHALL 景品の画像と名称を表示する
6. IF 設定された景品の在庫が0個である THEN ガチャアプリケーション SHALL その景品を抽選対象から除外する
7. IF すべての景品の在庫が0個である THEN ガチャアプリケーション SHALL ガチャ実行ボタンを非活性化する

### Requirement 2: 演出・アニメーション機能
**Objective:** イベント来場者として、ソーシャルゲームのような派手な演出を体験したい。これにより、記憶に残る印象的なブース体験を提供する。

#### Acceptance Criteria

1. WHEN ガチャ実行ボタンがタップされる THEN ガチャアプリケーション SHALL アニメーション演出を表示する
2. WHILE ガチャ演出が再生されている THE ガチャアプリケーション SHALL 来場者の操作を受け付けない
3. WHEN ガチャ演出が開始される THEN ガチャアプリケーション SHALL BGMまたは効果音を再生する
4. WHEN 景品が確定する THEN ガチャアプリケーション SHALL 結果表示のアニメーションを再生する
5. WHEN 結果表示アニメーションが完了する THEN ガチャアプリケーション SHALL 次のガチャを実行できる状態に戻る

### Requirement 3: 景品設定機能
**Objective:** ブース運営者として、景品の種類・画像・在庫数を管理したい。これにより、イベント期間中の景品配布を柔軟にコントロールできる。

#### Acceptance Criteria

1. WHEN 運営者が設定画面を開く THEN ガチャアプリケーション SHALL 登録済み景品の一覧を表示する
2. WHEN 運営者が新規景品追加ボタンをタップする THEN ガチャアプリケーション SHALL 景品登録フォームを表示する
3. WHEN 運営者が景品情報を入力して保存する THEN ガチャアプリケーション SHALL 景品を景品一覧に追加する
4. IF 景品名が入力されていない THEN ガチャアプリケーション SHALL 保存を実行せずエラーメッセージを表示する
5. WHEN 運営者が既存景品を編集する THEN ガチャアプリケーション SHALL 景品情報編集フォームを表示する
6. WHEN 運営者が景品画像を選択する THEN ガチャアプリケーション SHALL 選択された画像を景品に関連付ける
7. WHEN 運営者が景品の在庫数を変更する THEN ガチャアプリケーション SHALL 新しい在庫数を保存する
8. WHEN 運営者が景品を削除する THEN ガチャアプリケーション SHALL 削除確認ダイアログを表示する
9. WHEN 運営者が削除を確定する THEN ガチャアプリケーション SHALL 景品を景品一覧から削除する

### Requirement 4: データ永続化機能
**Objective:** ブース運営者として、アプリを閉じても設定が保持されるようにしたい。これにより、イベント期間中に設定を何度も入力する手間を省く。

#### Acceptance Criteria

1. WHEN 運営者が景品設定を保存する THEN ガチャアプリケーション SHALL ローカルストレージに景品データを保存する
2. WHEN ガチャアプリケーションが起動される THEN ガチャアプリケーション SHALL ローカルストレージから景品データを読み込む
3. IF ローカルストレージに景品データが存在する THEN ガチャアプリケーション SHALL 保存されたデータを復元する
4. WHEN ガチャが実行されて在庫が減少する THEN ガチャアプリケーション SHALL 更新された在庫数をローカルストレージに保存する
5. IF ローカルストレージへの保存が失敗する THEN ガチャアプリケーション SHALL エラーメッセージを表示する

### Requirement 5: 画面遷移・UI操作
**Objective:** ブース運営者と来場者として、直感的に操作できるインターフェースを利用したい。これにより、スムーズなブース運営と来場者体験を実現する。

#### Acceptance Criteria

1. WHEN アプリケーションが起動される THEN ガチャアプリケーション SHALL ガチャ画面を表示する
2. WHERE ガチャ画面にいる THE ガチャアプリケーション SHALL 設定画面への遷移ボタンを表示する
3. WHEN 運営者が設定画面遷移ボタンをタップする THEN ガチャアプリケーション SHALL 設定画面に遷移する
4. WHERE 設定画面にいる THE ガチャアプリケーション SHALL ガチャ画面への戻るボタンを表示する
5. WHEN 運営者が戻るボタンをタップする THEN ガチャアプリケーション SHALL ガチャ画面に遷移する
6. IF 景品が1つも登録されていない THEN ガチャアプリケーション SHALL ガチャ実行ボタンを非活性化する
